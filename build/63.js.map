{"version":3,"sources":["../../src/addon/mod/quiz/pages/review/review.module.ts","../../src/addon/mod/quiz/pages/review/review.ts"],"names":[],"mappings":"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","file":"63.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CoreComponentsModule } from '@components/components.module';\r\nimport { CoreDirectivesModule } from '@directives/directives.module';\r\nimport { CorePipesModule } from '@pipes/pipes.module';\r\nimport { CoreQuestionComponentsModule } from '@core/question/components/components.module';\r\nimport { AddonModQuizReviewPage } from './review';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AddonModQuizReviewPage,\r\n    ],\r\n    imports: [\r\n        CoreComponentsModule,\r\n        CoreDirectivesModule,\r\n        CorePipesModule,\r\n        CoreQuestionComponentsModule,\r\n        IonicPageModule.forChild(AddonModQuizReviewPage),\r\n        TranslateModule.forChild()\r\n    ],\r\n})\r\nexport class AddonModQuizReviewPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/mod/quiz/pages/review/review.module.ts","// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavParams, Content, ModalController, Modal } from 'ionic-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\r\nimport { CoreTextUtilsProvider } from '@providers/utils/text';\r\nimport { CoreTimeUtilsProvider } from '@providers/utils/time';\r\nimport { CoreQuestionHelperProvider } from '@core/question/providers/helper';\r\nimport { AddonModQuizProvider } from '../../providers/quiz';\r\nimport { AddonModQuizHelperProvider } from '../../providers/helper';\r\n\r\n/**\r\n * Page that allows reviewing a quiz attempt.\r\n */\r\n@IonicPage({ segment: 'addon-mod-quiz-review' })\r\n@Component({\r\n    selector: 'page-addon-mod-quiz-review',\r\n    templateUrl: 'review.html',\r\n})\r\nexport class AddonModQuizReviewPage implements OnInit {\r\n    @ViewChild(Content) content: Content;\r\n\r\n    attempt: any; // The attempt being reviewed.\r\n    component = AddonModQuizProvider.COMPONENT; // Component to link the files to.\r\n    componentId: number; // ID to use in conjunction with the component.\r\n    showAll: boolean; // Whether to view all questions in the same page.\r\n    numPages: number; // Number of pages.\r\n    showCompleted: boolean; // Whether to show completed time.\r\n    additionalData: any[]; // Additional data to display for the attempt.\r\n    loaded: boolean; // Whether data has been loaded.\r\n    navigation: any[]; // List of questions to navigate them.\r\n    questions: any[]; // Questions of the current page.\r\n    nextPage: number; // Next page.\r\n    previousPage: number; // Previous page.\r\n    navigationModal: Modal; // Modal to navigate through the questions.\r\n\r\n    protected quiz: any; // The quiz the attempt belongs to.\r\n    protected courseId: number; // The course ID the quiz belongs to.\r\n    protected quizId: number; // Quiz ID the attempt belongs to.\r\n    protected attemptId: number; // The attempt being reviewed.\r\n    protected currentPage: number; // The current page being reviewed.\r\n    protected options: any; // Review options.\r\n\r\n    constructor(navParams: NavParams, modalCtrl: ModalController, protected translate: TranslateService,\r\n            protected domUtils: CoreDomUtilsProvider, protected timeUtils: CoreTimeUtilsProvider,\r\n            protected quizProvider: AddonModQuizProvider, protected quizHelper: AddonModQuizHelperProvider,\r\n            protected questionHelper: CoreQuestionHelperProvider, protected textUtils: CoreTextUtilsProvider) {\r\n\r\n        this.quizId = navParams.get('quizId');\r\n        this.courseId = navParams.get('courseId');\r\n        this.attemptId = navParams.get('attemptId');\r\n        this.currentPage = navParams.get('page') || -1;\r\n        this.showAll = this.currentPage == -1;\r\n\r\n        // Create the navigation modal.\r\n        this.navigationModal = modalCtrl.create('AddonModQuizNavigationModalPage', {\r\n            isReview: true,\r\n            page: this\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Component being initialized.\r\n     */\r\n    ngOnInit(): void {\r\n        this.fetchData().then(() => {\r\n            this.quizProvider.logViewAttemptReview(this.attemptId).catch((error) => {\r\n                // Ignore errors.\r\n            });\r\n        }).finally(() => {\r\n            this.loaded = true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Change the current page. If slot is supplied, try to scroll to that question.\r\n     *\r\n     * @param {number} page Page to load. -1 means all questions in same page.\r\n     * @param {boolean} [fromModal] Whether the page was selected using the navigation modal.\r\n     * @param {number} [slot] Slot of the question to scroll to.\r\n     */\r\n    changePage(page: number, fromModal?: boolean, slot?: number): void {\r\n        if (typeof slot != 'undefined' && (this.attempt.currentpage == -1 || page == this.currentPage)) {\r\n            // Scrol to a certain question in the current page.\r\n            this.scrollToQuestion(slot);\r\n\r\n            return;\r\n        } else if (page == this.currentPage) {\r\n            // If the user is navigating to the current page and no question specified, we do nothing.\r\n            return;\r\n        }\r\n\r\n        this.loaded = false;\r\n        this.domUtils.scrollToTop(this.content);\r\n\r\n        this.loadPage(page).catch((error) => {\r\n            this.domUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorgetquestions', true);\r\n        }).finally(() => {\r\n            this.loaded = true;\r\n\r\n            if (typeof slot != 'undefined') {\r\n                // Scroll to the question. Give some time to the questions to render.\r\n                setTimeout(() => {\r\n                    this.scrollToQuestion(slot);\r\n                }, 2000);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Convenience function to get the quiz data.\r\n     *\r\n     * @return {Promise<any>} Promise resolved when done.\r\n     */\r\n    protected fetchData(): Promise<any> {\r\n        return this.quizProvider.getQuizById(this.courseId, this.quizId).then((quizData) => {\r\n            this.quiz = quizData;\r\n            this.componentId = this.quiz.coursemodule;\r\n\r\n            return this.quizProvider.getCombinedReviewOptions(this.quizId).then((result) => {\r\n                this.options = result;\r\n\r\n                // Load the navigation data.\r\n                return this.loadNavigation().then(() => {\r\n                    // Load questions.\r\n                    return this.loadPage(this.currentPage);\r\n                });\r\n            });\r\n        }).catch((error) => {\r\n            this.domUtils.showErrorModalDefault(error, 'addon.mod_quiz.errorgetquiz', true);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Load a page questions.\r\n     *\r\n     * @param {number} page The page to load.\r\n     * @return {Promise<void>} Promise resolved when done.\r\n     */\r\n    protected loadPage(page: number): Promise<void> {\r\n        return this.quizProvider.getAttemptReview(this.attemptId, page).then((data) => {\r\n            this.attempt = data.attempt;\r\n            this.attempt.currentpage = page;\r\n            this.currentPage = page;\r\n\r\n            // Set the summary data.\r\n            this.setSummaryCalculatedData(data);\r\n\r\n            this.questions = data.questions;\r\n            this.nextPage = page == -1 ? undefined : page + 1;\r\n            this.previousPage = page - 1;\r\n\r\n            this.questions.forEach((question) => {\r\n                // Get the readable mark for each question.\r\n                question.readableMark = this.quizHelper.getQuestionMarkFromHtml(question.html);\r\n\r\n                // Extract the question info box.\r\n                this.questionHelper.extractQuestionInfoBox(question, '.info');\r\n\r\n                // Set the preferred behaviour.\r\n                question.preferredBehaviour = this.quiz.preferredbehaviour;\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Load data to navigate the questions using the navigation modal.\r\n     *\r\n     * @return {Promise<void>} Promise resolved when done.\r\n     */\r\n    protected loadNavigation(): Promise<void> {\r\n        // Get all questions in single page to retrieve all the questions.\r\n        return this.quizProvider.getAttemptReview(this.attemptId, -1).then((data) => {\r\n            const lastQuestion = data.questions[data.questions.length - 1];\r\n\r\n            data.questions.forEach((question) => {\r\n                question.stateClass = this.questionHelper.getQuestionStateClass(question.state);\r\n            });\r\n\r\n            this.navigation = data.questions;\r\n            this.numPages = lastQuestion ? lastQuestion.page + 1 : 0;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Refreshes data.\r\n     *\r\n     * @param {any} refresher Refresher\r\n     */\r\n    refreshData(refresher: any): void {\r\n        const promises = [];\r\n\r\n        promises.push(this.quizProvider.invalidateQuizData(this.courseId));\r\n        promises.push(this.quizProvider.invalidateCombinedReviewOptionsForUser(this.quizId));\r\n        promises.push(this.quizProvider.invalidateAttemptReview(this.attemptId));\r\n\r\n        Promise.all(promises).finally(() => {\r\n            return this.fetchData();\r\n        }).finally(() => {\r\n            refresher.complete();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Scroll to a certain question.\r\n     *\r\n     * @param {number} slot Slot of the question to scroll to.\r\n     */\r\n    protected scrollToQuestion(slot: number): void {\r\n        this.domUtils.scrollToElementBySelector(this.content, '#addon-mod_quiz-question-' + slot);\r\n    }\r\n\r\n    /**\r\n     * Calculate review summary data.\r\n     *\r\n     * @param {any} data Result of getAttemptReview.\r\n     */\r\n    protected setSummaryCalculatedData(data: any): void {\r\n\r\n        this.attempt.readableState = this.quizProvider.getAttemptReadableStateName(this.attempt.state);\r\n\r\n        if (this.attempt.state == AddonModQuizProvider.ATTEMPT_FINISHED) {\r\n            this.showCompleted = true;\r\n            this.additionalData = data.additionaldata;\r\n\r\n            const timeTaken = this.attempt.timefinish - this.attempt.timestart;\r\n            if (timeTaken) {\r\n                // Format time taken.\r\n                this.attempt.timeTaken = this.timeUtils.formatTime(timeTaken);\r\n\r\n                // Calculate overdue time.\r\n                if (this.quiz.timelimit && timeTaken > this.quiz.timelimit + 60) {\r\n                    this.attempt.overTime = this.timeUtils.formatTime(timeTaken - this.quiz.timelimit);\r\n                }\r\n            }\r\n\r\n            // Treat grade.\r\n            if (this.options.someoptions.marks >= AddonModQuizProvider.QUESTION_OPTIONS_MARK_AND_MAX &&\r\n                    this.quizProvider.quizHasGrades(this.quiz)) {\r\n\r\n                if (data.grade === null || typeof data.grade == 'undefined') {\r\n                    this.attempt.readableGrade = this.quizProvider.formatGrade(data.grade, this.quiz.decimalpoints);\r\n                } else {\r\n                    // Show raw marks only if they are different from the grade (like on the entry page).\r\n                    if (this.quiz.grade != this.quiz.sumgrades) {\r\n                        this.attempt.readableMark = this.translate.instant('addon.mod_quiz.outofshort', {$a: {\r\n                            grade: this.quizProvider.formatGrade(this.attempt.sumgrades, this.quiz.decimalpoints),\r\n                            maxgrade: this.quizProvider.formatGrade(this.quiz.sumgrades, this.quiz.decimalpoints)\r\n                        }});\r\n                    }\r\n\r\n                    // Now the scaled grade.\r\n                    const gradeObject: any = {\r\n                        grade: this.quizProvider.formatGrade(data.grade, this.quiz.decimalpoints),\r\n                        maxgrade: this.quizProvider.formatGrade(this.quiz.grade, this.quiz.decimalpoints)\r\n                    };\r\n\r\n                    if (this.quiz.grade != 100) {\r\n                        gradeObject.percent = this.textUtils.roundToDecimals(this.attempt.sumgrades * 100 / this.quiz.sumgrades, 0);\r\n                        this.attempt.readableGrade = this.translate.instant('addon.mod_quiz.outofpercent', {$a: gradeObject});\r\n                    } else {\r\n                        this.attempt.readableGrade = this.translate.instant('addon.mod_quiz.outof', {$a: gradeObject});\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Treat additional data.\r\n            this.additionalData.forEach((data) => {\r\n                // Remove help links from additional data.\r\n                data.content = this.domUtils.removeElementFromHtml(data.content, '.helptooltip');\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Switch mode: all questions in same page OR one page at a time.\r\n     */\r\n    switchMode(): void {\r\n        this.showAll = !this.showAll;\r\n\r\n        // Load all questions or first page, depending on the mode.\r\n        this.loadPage(this.showAll ? -1 : 0);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/mod/quiz/pages/review/review.ts"],"sourceRoot":""}