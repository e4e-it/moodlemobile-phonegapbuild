{"version":3,"sources":["../../src/core/settings/pages/general/general.module.ts","../../src/core/settings/pages/general/general.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CoreSettingsGeneralPage } from './general';\r\nimport { CoreComponentsModule } from '@components/components.module';\r\nimport { CoreDirectivesModule } from '@directives/directives.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CoreSettingsGeneralPage\r\n    ],\r\n    imports: [\r\n        CoreComponentsModule,\r\n        CoreDirectivesModule,\r\n        IonicPageModule.forChild(CoreSettingsGeneralPage),\r\n        TranslateModule.forChild()\r\n    ],\r\n})\r\nexport class CoreSettingsGeneralPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/settings/pages/general/general.module.ts","// (C) Copyright 2015 Martin Dougiamas\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\nimport { Component, } from '@angular/core';\r\nimport { IonicPage } from 'ionic-angular';\r\nimport { CoreAppProvider } from '@providers/app';\r\nimport { CoreConstants } from '@core/constants';\r\nimport { CoreConfigProvider } from '@providers/config';\r\nimport { CoreFileProvider } from '@providers/file';\r\nimport { CoreEventsProvider } from '@providers/events';\r\nimport { CoreLangProvider } from '@providers/lang';\r\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\r\nimport { CoreLocalNotificationsProvider } from '@providers/local-notifications';\r\nimport { CoreConfigConstants } from '../../../../configconstants';\r\n\r\n/**\r\n * Page that displays the general settings.\r\n */\r\n@IonicPage({segment: 'core-settings-general'})\r\n@Component({\r\n    selector: 'page-core-settings-general',\r\n    templateUrl: 'general.html',\r\n})\r\nexport class CoreSettingsGeneralPage {\r\n\r\n    languages = {};\r\n    languageCodes = [];\r\n    selectedLanguage: string;\r\n    rteSupported: boolean;\r\n    richTextEditor: boolean;\r\n    showReport: boolean;\r\n    reportInBackground: boolean;\r\n\r\n    constructor(appProvider: CoreAppProvider, private configProvider: CoreConfigProvider, fileProvider: CoreFileProvider,\r\n            private eventsProvider: CoreEventsProvider, private langProvider: CoreLangProvider,\r\n            private domUtils: CoreDomUtilsProvider,\r\n            localNotificationsProvider: CoreLocalNotificationsProvider) {\r\n\r\n        this.languages = CoreConfigConstants.languages;\r\n        this.languageCodes = Object.keys(this.languages);\r\n        langProvider.getCurrentLanguage().then((currentLanguage) => {\r\n            this.selectedLanguage = currentLanguage;\r\n        });\r\n\r\n        this.rteSupported = this.domUtils.isRichTextEditorSupported();\r\n        if (this.rteSupported) {\r\n            this.configProvider.get(CoreConstants.SETTINGS_RICH_TEXT_EDITOR, true).then((richTextEditorEnabled) => {\r\n                this.richTextEditor = !!richTextEditorEnabled;\r\n            });\r\n        }\r\n\r\n        if (localStorage && localStorage.getItem && localStorage.setItem) {\r\n            this.showReport = true;\r\n            this.reportInBackground = parseInt(localStorage.getItem(CoreConstants.SETTINGS_REPORT_IN_BACKGROUND), 10) === 1;\r\n        } else {\r\n            this.showReport = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when a new language is selected.\r\n     */\r\n    languageChanged(): void {\r\n        this.langProvider.changeCurrentLanguage(this.selectedLanguage).finally(() => {\r\n            this.eventsProvider.trigger(CoreEventsProvider.LANGUAGE_CHANGED);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Called when the rich text editor is enabled or disabled.\r\n     */\r\n    richTextEditorChanged(): void {\r\n        this.configProvider.set(CoreConstants.SETTINGS_RICH_TEXT_EDITOR, this.richTextEditor ? 1 : 0);\r\n    }\r\n\r\n    /**\r\n     * Called when the report in background setting is enabled or disabled.\r\n     */\r\n    reportInBackgroundChanged(): void {\r\n        localStorage.setItem(CoreConstants.SETTINGS_REPORT_IN_BACKGROUND, this.reportInBackground ? '1' : '0');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/settings/pages/general/general.ts"],"sourceRoot":""}